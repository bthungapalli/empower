define("SHARED/uiMaskLayer",["SHARED/jquery","SHARED/base","SHARED/uiPopup"],function(e,c,a){eXo.define.names=["$","base","uiPopup"];eXo.define.deps=[e,c,a];return function(b,a,d){eXo.core.UIMaskLayer={createTransparentMask:function(l){var i=a.Browser,h=b("#AjaxLoadingMask"),l=b(eXo.core.UIMaskLayer.createMask("UIPortalApplication",h[0],0,l));i.addOnScrollCallback("5439383",eXo.core.UIMaskLayer.scrollCallback);h.hide();l.fadeTo(0,0);l.css("backgroundColor","white");l.css("cursor","wait");return l[0]},
showAjaxLoading:function(){document.getElementById("AjaxLoadingMask").style.display="block"},removeTransparentMask:function(){var a=b("#TransparentMaskLayer");a.length&&(a.height(0),a.width(0))},removeMasks:function(a){eXo.core.UIMaskLayer.removeTransparentMask();eXo.core.UIMaskLayer.removeMask(a)},createMask:function(l,i,h,k){try{var c=a.Browser;"string"==typeof l&&(l=b("#"+l));var e=b(l),j=b(document.createElement("div"));this.object=i;this.blockContainer=e[0];this.position=k;var p=document.getElementById("MaskLayer");
if(p)p.id="subMaskLayer";e.append(j);j.addClass("MaskLayer").attr("id","MaskLayer");j.data("maxZIndex",d.zIndex+1);var o=j.offsetParent(),s=o.offset();o.length&&0!=s.left&&0!=o.top?(j.width(o[0].offsetWidth),j.height(o[0].offsetHeight)):(j.width(b(window).width()),j.height(b(window).height()));j.css("top","0px");j.css("left","0px");j.css("zIndex",j.data("maxZIndex"));h&&j.fadeTo(0,h/100);if(null!=i){var q=document.createElement("span");i.nextSibling?i.parentNode.insertBefore(q,i.nextSibling):i.parentNode.appendChild(q);
j.data("nextSiblingOfObject",q);i.style.zIndex=j.data("maxZIndex");i.style.display="block";e.append(i);eXo.core.UIMaskLayer.setPosition();if(eXo.core.I18n.isLT()&&(e[0].offsetWidth>i.offsetLeft+i.offsetWidth&&"TOP-RIGHT"==k||"BOTTOM-RIGHT"==k))i.style.left=e[0].offsetWidth-i.offsetWidth+"px";eXo.core.UIMaskLayer.doScroll()}"UIPage"==j[0].parentNode.id&&eXo.core.UIMaskLayer.enablePageDesktop(!1)}catch(t){alert(t)}c.addOnResizeCallback(j[0].id,eXo.core.UIMaskLayer.resizeMaskLayer);return j[0]},createMaskForFrame:function(l,
i,h){try{var d=a.Browser;"string"==typeof l&&(l=b("#"+l));var c=b(l),e=b(document.createElement("div"));c.append(e);e.addClass("MaskLayer");e.attr("id",i.id+"MaskLayer");e.data("maxZIndex",3);e.width(c[0].offsetWidth);e.height(c[0].offsetHeight);window.setTimeout(function(){var a=c[0].parentNode,f;do f=a,a=a.parentNode;while(a&&"static"===b(f).css("position"));e.css("top",d.findPosYInContainer(c[0],f)+"px");e.css("left",d.findPosXInContainer(c[0],f)+"px")},200);e.css("zIndex",e.data("maxZIndex"));
h&&e.fadeTo(0,h/100);if(null!=i){var j=document.createElement("span");i.nextSibling?i.parentNode.insertBefore(j,i.nextSibling):i.parentNode.appendChild(j);e.data("nextSiblingOfObject",j);i.style.zIndex=e.data("maxZIndex")+1;i.style.display="block";c.append(i)}}catch(p){}return e[0]},doScroll:function(){var a=document.getElementById("MaskLayer");if(a){var f=a.offsetParent,h=b(f).offset();if(f&&(0!=h.left||0!=h.top))if(a=document.getElementById("subMaskLayer"),!a)return;a.style.top=document.documentElement&&
document.documentElement.scrollTop?document.documentElement.scrollTop+"px":document.body.scrollTop+"px";setTimeout(function(){eXo.core.UIMaskLayer.doScroll()},1)}else if(document.getElementById("subMaskLayer"))document.getElementById("subMaskLayer").id="MaskLayer",eXo.core.UIMaskLayer.doScroll()},setPosition:function(){var a=eXo.core.UIMaskLayer,f=a.object,h=a.blockContainer,d=a.position;f.style.position="absolute";var a=document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:
document.body.scrollTop,c=b(window).height();switch(d){case "TOP-LEFT":d=a;h=0;break;case "TOP-RIGHT":d=a;h=h.offsetWidth-f.offsetWidth;break;case "TOP-CENTER":d=a;h=(h.offsetWidth-f.offsetWidth)/2;break;case "BOTTOM-LEFT":h=0;d=c-f.offsetHeight+a;break;case "BOTTOM-CENTER":h=(h.offsetWidth-f.offsetWidth)/2;d=c-f.offsetHeight+a;break;case "BOTTOM-RIGHT":h=h.offsetWidth-f.offsetWidth;d=c-f.offsetHeight+a;break;default:h=(h.offsetWidth-f.offsetWidth)/2,d=(c-f.offsetHeight)/2+a}d+f.offsetHeight>a+b(window).height()&&
(d=a+c-f.offsetHeight);f.style.left=0<=h?h+"px":"0";f.style.top=0<=d?d+"px":"0"},scrollCallback:function(){var a=eXo.core.UIMaskLayer,f=a.object,d=a.blockContainer,a=a.position;f.style.position="absolute";b(window).height();switch(a){case "TOP-LEFT":d=0;break;case "TOP-RIGHT":d=d.offsetWidth-f.offsetWidth;break;case "TOP-CENTER":d=(d.offsetWidth-f.offsetWidth)/2;break;case "BOTTOM-LEFT":d=0;break;case "BOTTOM-CENTER":d=(d.offsetWidth-f.offsetWidth)/2;break;case "BOTTOM-RIGHT":d=d.offsetWidth-f.offsetWidth;
break;default:d=(d.offsetWidth-f.offsetWidth)/2}f.style.left=0<=d?d+"px":"0"},removeMask:function(a){if(a){a.nextSibling.style.display="none";var f=b(a).data("nextSiblingOfObject");f.parentNode.insertBefore(a.nextSibling,f);f.parentNode.removeChild(f);b(a).remove()}},enablePageDesktop:function(a){var f=document.getElementById("UIPageDesktop");if(f)f.style.zIndex=a?"":"-1"},resizeMaskLayer:function(){var a=document.getElementById("MaskLayer");if(a){var f=a.offsetParent;if(f){var d=b(f).offset();if(0!=
d.top||0!=d.left){a=document.getElementById("subMaskLayer");if(!a)return;f=a.offsetParent}}}var c=b(window);if(a&&f&&(d=b(f).offset(),0==d.left&&0==d.top))a.style.width=c.width()+"px",a.style.height=c.height()+"px"}};return eXo.core.UIMaskLayer}(e,c,a)});
define("SHARED/popupCategory",["SHARED/jquery"],function(e){eXo.define.names=["$"];eXo.define.deps=[e];return function(c){eXo.webui.UIPopupSelectCategory={init:function(a){var b=a;"string"==typeof b&&(b=c("#"+a));c(b).find(".UIPopupCategory").closest(".ControlIcon, .EditIcon").off("click").on("click",function(a){eXo.webui.UIPopupSelectCategory.show(this,a)});return!1},show:function(a){var b=c(a).find("div.UIPopupCategory");b.length&&"none"==b.css("display")&&(b.show(),c(document).one("click",function(){c(document).one("click",
function(){b.hide()})}))}};return eXo.webui.UIPopupSelectCategory}(e)});
define("SHARED/base",["SHARED/jquery"],function(e){eXo.define.names=["$"];eXo.define.deps=[e];return function(c){eXo.portal.logout=function(){window.location=eXo.env.server.createPortalURL("UIPortal","Logout",!1)};eXo.session.openUrl=null;eXo.session.itvTime=null;eXo.session.itvObj=null;eXo.session.initialized=!1;eXo.session.itvInit=function(){var a=eXo.session,b=eXo.env;if(!a.initialized&&a.canKeepState&&"private"==b.portal.accessMode){if(!a.openUrl)a.openUrl=b.server.createPortalURL("UIPortal",
"Ping",!1);if(!a.itvTime)a.itvTime=1800;a.initialized=!0;a.openItv()}};eXo.session.startItv=function(){var a=eXo.session;if(a.initialized){if(a.destroyItv(),a.canKeepState&&"private"==eXo.env.portal.accessMode&&0<a.itvTime)a.itvObj=window.setTimeout("eXo.session.openItv()",1E3*(a.itvTime-10))}else a.isOpen&&a.itvInit()};eXo.session.openItv=function(){var a=eXo.session,b=window.ActiveXObject?new ActiveXObject("Msxml2.XMLHTTP"):new XMLHttpRequest;b.open("GET",a.openUrl,!0);b.setRequestHeader("Cache-Control",
"max-age=86400");b.onreadystatechange=function(){if(4==b.readyState){if(200==b.status){var f=b.responseText;if(!isNaN(f))a.itvTime=parseInt(f)}delete b.onreadystatechange}};b.send(null)};eXo.session.destroyItv=function(){var a=eXo.session;window.clearTimeout(a.itvObj);a.itvObj=null};eXo.generateId=function(a){return a+"-"+(new Date).getTime()+Math.random().toString().substring(2)};eXo.debug=function(a){if(eXo.developing){var b=eXo.webui;b.UINotification&&b.UINotification.addMessage("DEBUG: "+a)}};
eXo.core.I18n={init:function(){var a=document.getElementsByTagName("html")[0],b=a.getAttribute("xml:lang")||a.getAttribute("lang")||"en",a=a.getAttribute("dir")||"lt";this.lang=b;this.dir=a;this.orientation="rtl"==a?"rt":"lt";this.lt="lt"==this.orientation},getLanguage:function(){return this.lang},getOrientation:function(){return this.orientation},getDir:function(){return!this.lt},isLT:function(){return this.lt},isRT:function(){return!this.lt}};eXo.core.I18n.init();eXo.core.Browser={onLoadCallback:{},
onResizeCallback:{},onScrollCallback:{},breakStream:null,init:function(){c(window).on("resize",this.managerResize);c(window).on("scroll",this.onScroll);this.detectBrowser()},detectBrowser:function(){this.webkit=this.gecko=this.opera=this.ie=0;this.mobile=null;this.air=0;var a=navigator.userAgent,b;if(/KHTML/.test(a))this.webkit=1;if((b=a.match(/AppleWebKit\/([^\s]*)/))&&b[1]){this.webkit=parseFloat(b[1]);if(/ Mobile\//.test(a))this.mobile="Apple";else if(b=a.match(/NokiaN[^\/]*/))this.mobile=b[0];
if(b=a.match(/AdobeAIR\/([^\s]*)/))this.air=b[0]}if(!this.webkit)if((b=a.match(/Opera[\s\/]([^\s]*)/))&&b[1]){if(this.opera=parseFloat(b[1]),b=a.match(/Opera Mini[^;]*/))this.mobile=b[0]}else if((b=a.match(/MSIE\s([^;]*)/))&&b[1])this.ie=parseFloat(b[1]);else if(b=a.match(/Gecko\/([^\s]*)/))if(this.gecko=1,(b=a.match(/rv:([^\s\)]*)/))&&b[1])this.gecko=parseFloat(b[1])},managerResize:function(){var a=eXo.core.Browser,b=c(window);if(a.currheight!=b.height()||a.currWidth!=b.width())clearTimeout(a.breakStream),
a.breakStream=setTimeout(a.onResize,100);a.currheight=b.height()},isIE:function(){return 0<=navigator.userAgent.indexOf("MSIE")},isIE6:function(){return 0<=navigator.userAgent.indexOf("MSIE 6")},isIE7:function(){return 0<=navigator.userAgent.indexOf("MSIE 7")},isFF:function(){return this.gecko},isFF3:function(){return 0<=navigator.userAgent.indexOf("Firefox/3")},addOnLoadCallback:function(a,b){this.onLoadCallback[a]=b},onLoad:function(){var a=eXo.core.Browser.onLoadCallback,b;for(b in a){var f=a[b];
if("function"==typeof f)try{f()}catch(d){}}this.onLoadCallback={}},addOnResizeCallback:function(a,b){this.onResizeCallback[a]=b},onResize:function(a){var b=eXo.core.Browser.onResizeCallback,f;for(f in b){var d=b[f];"function"==typeof d&&d(a)}},addOnScrollCallback:function(a,b){this.onScrollCallback[a]=b},onScroll:function(a){var b=eXo.core.Browser.onScrollCallback,f;for(f in b){var d=b[f];try{"function"==typeof d&&d(a)}catch(c){}}},findPosX:function(a,b){var f=c(a).offset().left;return b?f+a.offsetWidth:
f},findPosXInContainer:function(a,b,f){var d=eXo.core.Browser,a=d.findPosX(a,f),b=d.findPosX(b,f);return f?-(a-b):a-b},findPosYInContainer:function(a,b){var f=c(a).offset().top,d=c(b).offset().top;return f-d},findMouseRelativeX:function(a,b,f){a=eXo.core.Browser.findPosX(a,f);if(!b)b=window.event;b=c.event.fix(b);b=b.pageX||b.originalEvent.touches[0].pageX;return-1==b?-1:b-a},findMouseRelativeY:function(a,b){var f=c(a).offset().top;if(!b)b=window.event;var b=c.event.fix(b),d=b.pageY||b.originalEvent.touches[0].pageY;
return-1==d?-1:d-f},setPositionInContainer:function(a,b,f,d){var c=b.offsetLeft,i=b.offsetTop,h=eXo.core.Browser,e=h.findPosXInContainer(b,a),a=h.findPosYInContainer(b,a);b.style.left=f-(e-c)+"px";b.style.top=d-(a-i)+"px"},setCookie:function(a,b,f){var d=new Date;d.setDate(d.getDate()+f);document.cookie=a+"="+escape(b)+(null==f?"":";expires="+d.toGMTString())},getCookie:function(a){if(0<document.cookie.length){var b=document.cookie.indexOf(a+"=");if(-1!=b){b=b+a.length+1;a=document.cookie.indexOf(";",
b);if(-1==a)a=document.cookie.length;return unescape(document.cookie.substring(b,a))}}return""},isDesktop:function(){return document.getElementById("UIPageDesktop")?!0:!1},getHeightOfFreeSpace:function(){for(var a=document.body.children,b=0,f=a.length,d=0;d<f;d++)b+=a[d].offsetHeight;return c(window).height()-b},fillUpFreeSpace:function(a){"string"==typeof a&&(a=document.getElementById(a));var b=eXo.core.Browser.getHeightOfFreeSpace();if(0<b&&void 0!=a)b+=a.offsetHeight,a.style.height=b+"px";for(var f=
c(document),d=c(a),a=f.height();f.height()==a;)d.height(d.height()+1);for(b=d.height()-1;f.height()>a;)d.height(d.height()-1);window.setTimeout(function(){d.height(b)},100)}};eXo.core.Browser.init();return{Browser:eXo.core.Browser,I18n:eXo.core.I18n}}(e)});
define("SHARED/portalRequest",["SHARED/jquery","SHARED/uiMaskLayer","SHARED/I18NMessage","SHARED/base"],function(e,c,a,b){eXo.define.names=["$","uiMaskLayer","msg","base"];eXo.define.deps=[e,c,a,b];return function(a,b,c,e){function h(b){b=a(b).children("div");this.portletId=b[0].innerHTML;this.portletData=b[1].innerHTML;this.blocksToUpdate=null;var d=a(b[1]).children(".BlockToUpdate");if(0<d.length){var c=this.blocksToUpdate=[];d.each(function(){var b=a(this).children("div");c[c.length]={blockId:b[0].innerHTML,
data:b[1]};c[c.length-1].scripts=a(b[1]).find("script")})}else this.scripts=a(b[1]).find("script")}function k(b){var d=document.createElement("div");d.innerHTML=b;var b=a(d).children().first(),c=this;c.portletResponses=[];b.children("div.PortletResponse").each(function(){c.portletResponses[c.portletResponses.length]=new h(this)});b.children("div.PortalResponseData").each(function(){c.data=this;c.blocksToUpdate=[];a(this).children(".BlockToUpdate").each(function(){var b=a(this).children("div"),d=c.blocksToUpdate.length;
c.blocksToUpdate[d]={blockId:b[0].innerHTML,data:b[1]};c.blocksToUpdate[d].scripts=a(b[1]).find("script")})});b.children("div.MarkupHeadElements").each(function(){c.markupHeadElements=new m(this)});b.children("div.LoadingScripts").each(function(){c.loadingScripts=new r(this)});b.children("div.PortalResponseScript").each(function(){c.script=this.innerHTML;a(this).css("display","none")})}function m(b){b=a(b);this.titles=b.find("title");this.bases=b.find("base");this.links=b.find("link");this.metas=
b.find("meta");this.scripts=b.find("script");this.styles=b.find("style");for(b=0;b<this.scripts.length;b++){var d=this.scripts,c=b,g=this.scripts[b],e=document.createElement("script");e.type="text/javascript";e.className=g.className;if(g.defer)e.defer=g.defer;g.src?e.src=g.src:e.text=g.innerHTML;d[c]=e}}function r(b){this.immediateScripts=[];for(var b=a(b).children(".ImmediateScripts").first().html(),b=b.replace(/^\s*/,"").split(","),d=0;d<b.length;d++)""!==b[d]&&this.immediateScripts.push(b[d])}
function j(b,d){var c=a("head");c.find("#"+b).remove();var g=a(d);g.attr("id",b);c[0].appendChild(g[0])}function p(b,d,c){var g={request:null,timeout:8E4,aborted:!1};g.method=null!=b?b:"GET";g.url=null!=d?d:window.location.href;g.queryString=null!=c?c:null;g.responseReceived=!1;g.status=null;g.statusText=null;g.responseText=null;g.responseXML=null;g.onTimeout=null;g.onLoading=null;g.onComplete=null;g.onSuccess=null;g.callBack=null;g.onError=null;g.isAsynchronize=function(){var a=!1,b;b="ajax_async".replace(/[\[]/,
"\\[").replace(/[\]]/,"\\]");b=RegExp("[\\?&]"+b+"=([^&#]*)").exec(g.url);null!=b&&(a="true"==b[1]?!0:!1);return a};g.onLoadingInternalHandled=!1;g.onCompleteInternalHandled=!1;g.onLoadingInternal=function(){if(!g.onLoadingInternalHandled){if("function"==typeof g.onLoading)g.onLoading(g);g.onLoadingInternalHandled=!0}};g.evalResponse=function(){try{return eval(g.responseText||"")}catch(a){throw Error("Cannot eval the response");}};g.onCompleteInternal=function(a,b){if(!g.onCompleteInternalHandled&&
!g.aborted)if("timeout"==b)g.onTimeoutInternal();else{try{g.responseReceived=!0,g.status=a.status,g.statusText=b,g.responseText=a.responseText,g.responseXML=a.responseXML}catch(f){g.status=0}if("function"==typeof g.onComplete)g.onComplete(g);if("success"==b&&"function"==typeof g.onSuccess)if(g.onSuccess(g),g.onCompleteInternalHandled=!0,"function"==typeof g.callBack)g.callBack(g);else{if(g.callBack)try{eval(g.callBack)}catch(d){throw Error("Can not execute callback...");}}else if("function"==typeof g.onError)g.onError(g),
g.onCompleteInternalHandled=!1}};g.onTimeoutInternal=function(){if(!(null==g||null==g.request||g.onCompleteInternalHandled))if(g.aborted=!0,"function"==typeof g.onTimeout)g.onTimeout(g)};g.process=function(){g.request=a.ajax(g.url,{type:g.method,beforeSend:g.onLoadingInternal,complete:g.onCompleteInternal,contentType:"POST"==g.method?"application/x-www-form-urlencoded; charset=UTF-8":"text/plain;charset=UTF-8",data:g.queryString,timeout:g.timeout,cache:!1})};return g}function o(){function b(d){var c=
a("head");if(d){var h=d.portletResponses;if(h)for(var e=0;e<h.length;e++)c.find(".ExHead-"+h[e].portletId+":not(title)").remove();d.data&&a(d.data).find(".PORTLET-FRAGMENT").each(function(){c.find(".ExHead-"+this.parentNode.id.replace("EditMode-","")+":not(title)").remove()})}else{var i=a("body .PORTLET-FRAGMENT");c.find("[class^='ExHead-']:not(title)").each(function(){var b=this.className.substring(7),d=!0;i.each(function(){this.parentNode.id.replace("EditMode-","")===b&&(d=!1)});d&&a(this).remove()})}}
function d(a,b){b&&b.each(function(){a[0].appendChild(this)})}var h={to:null,executeScript:function(b){if(!(null==b||""==b)){try{eval(a("<div />").html(b).text());return}catch(d){console.error(d.message)}b=b.split(";");if(null!=b&&0<b.length)for(var c=0;c<b.length;c++)try{eval(b[c])}catch(h){alert(h+" : "+b[c]+"  -- "+c)}}},updateHtmlHead:function(c,h){if(c){b(c);var e=a("head"),i=c.markupHeadElements;if(i){if(i.titles&&0!=i.titles.length){var l=e.children("title"),j=i.titles[i.titles.length-1];l.length?
l.replaceWith(j):e[0].appendChild(j)}d(e,i.metas);d(e,i.bases);d(e,i.links);d(e,i.styles);for(var k=this,m=function(){if(i.scripts.length){var b=i.scripts.splice(0,1);d(e,a(b));b[0].src||m.apply(k)}else h.apply(k)},l=0;l<i.scripts.length;l++)if(j=i.scripts[l],j.src)void 0!==j.onreadystatechange?j.onreadystatechange=function(a){return function(){if(!a.readyState||/loaded|complete/.test(a.readyState))a.onreadystatechange=null,m.apply(k)}}(j):j.onload=function(a){return function(){a.onload=null;m.apply(k)}}(j),
j.onerror=function(a){return function(){a.onerror=null;m.apply(k)}}(j);m.apply(k)}}},updateBlocks:function(b,d){if(b){var c=null;d&&""!=d&&(c=a("#"+d),0==c.length&&(c=a("#UIPortlet-"+d)));c=!c?a(document):c;a.each(b,function(){var b=c.find("#"+this.blockId);0==b.length&&alert(e.getMessage("TargetBlockNotFound",Array(this.blockId)));var d=a(this.data).find("#"+this.blockId);0==d.length&&alert(e.getMessage("BlockUpdateNotFound",Array(this.blockId)));b.html(d.html());if(this.scripts)for(b=0;b<this.scripts.length;b++)j("script_"+
b+"_"+this.blockId,this.scripts[b])})}},ajaxTimeout:function(){c.removeMasks(eXo.portal.AjaxRequest.maskLayer);eXo.portal.AjaxRequest.maskLayer=null;eXo.portal.CurrentRequest=null;window.location.reload()}};h.ajaxResponse=function(d,n){var m=this;n||(n=new k(m.responseText));var q=n.loadingScripts,o=q?q.immediateScripts:[];if(o.length)window.require(o,function(){o.length=0;h.ajaxResponse.apply(m,[d,n])});else if(n.markupHeadElements)h.updateHtmlHead(n,function(){n.markupHeadElements=null;h.ajaxResponse.apply(m,
[d,n])});else{(q=n.portletResponses)&&a.each(q,function(){var b=this;b.blocksToUpdate?h.updateBlocks(b.blocksToUpdate,b.portletId):(a("#"+b.portletId),a("#"+b.portletId+" .PORTLET-FRAGMENT").first().html(b.portletData),b.scripts&&b.scripts.each(function(a){j("script_"+a+"_"+b.portletId,this)}))});!n.blocksToUpdate&&""!==d.responseText&&confirm(e.getMessage("SessionTimeout"))&&h.ajaxTimeout(d);try{h.updateBlocks(n.blocksToUpdate),b(),h.executeScript(n.script),clearTimeout(h.to),c.removeMasks(eXo.portal.AjaxRequest.maskLayer),
eXo.portal.AjaxRequest.maskLayer=null,eXo.portal.CurrentRequest=null}catch(p){alert(p.message)}a(".uiPopupWrapper").length||a("body").removeClass("modal-open")}};h.ajaxLoading=function(a){if(!a.isAsynchronize()){if(null==eXo.portal.AjaxRequest.maskLayer)eXo.portal.AjaxRequest.maskLayer=c.createTransparentMask();h.to=setTimeout(function(){null!=eXo.portal.AjaxRequest.maskLayer&&c.showAjaxLoading(eXo.portal.AjaxRequest.maskLayer)},2E3)}};return h}window.doRequest=function(a,b,d,f){request=new p(a,b,
d);handler=new o;request.onSuccess=handler.ajaxResponse;request.onLoading=handler.ajaxLoading;request.onTimeout=handler.ajaxTimeout;request.callBack=f;eXo.portal.CurrentRequest=request;request.process();eXo.session.startItv()};window.ajaxAbort=function(){c.removeMasks(eXo.portal.AjaxRequest.maskLayer);eXo.portal.AjaxRequest.maskLayer=null;eXo.portal.CurrentRequest.request.abort();eXo.portal.CurrentRequest.aborted=!0;eXo.portal.CurrentRequest=null};window.ajaxAsyncGetRequest=function(a,b){return ajaxRequest("GET",
a,b)};window.ajaxRequest=function(b,d,c,g){void 0==c&&(c=!0);var e;a.ajax(d,{type:b,async:c,data:g,headers:{"Cache-Control":"max-age=86400"},complete:function(a){e=a.responseText}});eXo.session.startItv();if(!c)return e};window.ajaxRedirect=function(a){a=a.replace(/&amp;/g,"&");window.location.href=a};eXo.portal.AjaxRequest=p.prototype.constructor}(e,b,c,a)});
define("SHARED/uiPopup",["SHARED/base","SHARED/jquery"],function(e,c){eXo.define.names=["base","$"];eXo.define.deps=[e,c];return function(a,b){eXo.webui.UIPopup={zIndex:3,init:function(a,b){"string"==typeof a&&(a=document.getElementById(a));if(b)a.containerId=b;a.onmousedown=this.changezIndex},changezIndex:function(){this.style.zIndex=++eXo.webui.UIPopup.zIndex},create:function(){var a=document.createElement("div");with(a.style)position="relative",display="none";return a},setSize:function(a,b,c){a.style.width=
b+"px";a.style.height=c+"px"},show:function(b){"string"==typeof b&&(b=document.getElementById(b));var d=document.getElementById("UIMaskWorkspace");if(d&&(uiMaskWSzIndex=a(d).css("zIndex"))&&uiMaskWSzIndex>eXo.webui.UIPopup.zIndex)eXo.webui.UIPopup.zIndex=uiMaskWSzIndex;b.style.zIndex=++eXo.webui.UIPopup.zIndex;b.style.display="block"},hide:function(a){"string"==typeof a&&(a=document.getElementById(a));a.style.display="none"},setPosition:function(a,b,c,e){if(a.containerId)document.getElementById(a.containerId).style.position=
"relative";a.style.position="absolute";a.style.top=c+"px";e?(a.style.right=b+"px",a.style.left=""):(a.style.left=b+"px",a.style.right="")},setAlign:function(c,d,e,i){"string"==typeof c&&(c=document.getElementById(c));var h=a(window).width()-b.Browser.findPosX(document.getElementById("UIWorkingWorkspace")),k=0,m=0;e||(e=0);i||(i=0);k=a(window).height();switch(d){case 1:k=i;m=e;break;case 2:k=i;m=h-c.offsetWidth-e;break;case 3:k=k-c.offsetHeight-i;m=e;break;case 4:k=k-c.offsetHeight-i;m=h-c.offsetWidth-
e;break;default:k=(k-c.offsetHeight)/2,m=(uiWorkingWS.offsetWidth-c.offsetWidth)/2}this.setPosition(c,m,k,eXo.core.I18n.isRT())},initDND:function(){var b=eXo.core.DragDrop,d=a(this).parent().closest(".UIDragObject")[0];b.init(this,d)}};return eXo.webui.UIPopup}(c,e)});
define("SHARED/skin",[],function(){eXo.define.names=[];eXo.define.deps=[];return function(){eXo.core.Skin={addSkin:function(e,c){if(null==document.getElementById(e)){var a=document.createElement("link");a.setAttribute("id",e);a.setAttribute("rel","stylesheet");a.setAttribute("type","text/css");a.setAttribute("href",c);document.getElementsByTagName("head")[0].appendChild(a)}}};return eXo.core.Skin}()});
define("SHARED/uiMaskWorkspace",["SHARED/uiMaskLayer","SHARED/base","SHARED/jquery"],function(e,c,a){eXo.define.names=["uiMaskLayer","base","$"];eXo.define.deps=[e,c,a];return function(a,c,d){eXo.portal.UIMaskWorkspace={show:function(e,i){if(this.maskWorkpace=document.getElementById(e)){var h=d(this.maskWorkpace).find(".UIMaskWorkspace");-1<i&&h.width(i);document.body.style.overflow="hidden";if(null==eXo.portal.UIMaskWorkspace.maskLayer)h=c.createMask("UIPortalApplication",this.maskWorkpace,30),eXo.portal.UIMaskWorkspace.maskLayer=
h;this.maskWorkpace.style.margin="auto";this.maskWorkpace.style.display="block";d("#UIWorkingWorkspace").addClass("background");h=a.Browser;eXo.portal.UIMaskWorkspace.resetPositionEvt();h.addOnResizeCallback("mid_maskWorkspace",eXo.portal.UIMaskWorkspace.resetPositionEvt)}},hide:function(a){this.maskWorkpace=document.getElementById(a);if(void 0!=eXo.portal.UIMaskWorkspace.maskLayer&&this.maskWorkpace)c.removeMask(eXo.portal.UIMaskWorkspace.maskLayer),eXo.portal.UIMaskWorkspace.maskLayer=null,this.maskWorkpace.style.display=
"none",document.body.style.overflow="auto",d("#UIWorkingWorkspace").removeClass("background")},resetPositionEvt:function(){var a=eXo.portal.UIMaskWorkspace.maskWorkpace;if(a&&"block"==a.style.display){var b=d(a).height(),e=d(a).find(".UIMaskWorkspace");e.height()<b?e.css("margin-top",(b-e.height())/2):e.css("margin-top",0);try{c.blockContainer=document.getElementById("UIPortalApplication"),c.object=a,c.scrollCallback()}catch(k){}a.style.position="fixed";a.style.top=0}}};return eXo.portal.UIMaskWorkspace}(c,
e,a)});
define("SHARED/I18NMessage",[],function(){eXo.define.names=[];eXo.define.deps=[];return function(){eXo.i18n.I18NMessage={getMessage:function(e,c){var a;try{a=eval("this."+e)}catch(b){}if(null==a||"undefined"==a)a=e;if(null!=c&&0<c.constructor.toString().indexOf("Array"))for(var f=0;f<c.length;f++)a=a.replace("{"+f+"}",c[f]);return a},SessionTimeout:"Your session has timed out. Please refresh your browser.",TargetBlockNotFound:"Error updating the UI {0}. Please refresh your browser.",BlockUpdateNotFound:"Error updating the block {0}. Please refresh your browser.",DefaultTheme:"Default Theme",
PreviousMonth:"Previous Month",NextMonth:"Next Month",PreviousYear:"Previous Year",NextYear:"Next Year",weekdays:"S,M,T,W,T,F,S".split(","),Save:"Save",Cancel:"Cancel"};return eXo.i18n.I18NMessage}()});