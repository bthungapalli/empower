define("SHARED/selectors",["SHARED/jquery"],function(g){eXo.define.names=["$"];eXo.define.deps=[g];return function(d){var a={init:function(b,i,f){b=d(b);f||(b.on("mouseover",function(){a.onOver(this,!0)}),b.on("mouseout",function(){a.onOver(this,!1)}));b.each(function(b){var f=d(this);f.on("click",function(){a.onClick(this);f.find(".ExtraActions, .extraActions").each(function(){var b=d(this).html();eval(b)});if(i)a.onClickCategory(this,null,i[b].componentName,i[b].categoryName)})})},onOver:function(b,
i){"Item"==b.className&&a.beforeActionHappen(b);i?(this.backupClass=b.className,b.className="OverItem Item"):b.className=this.backupClass},onClick:function(b){var i=d(b).closest(".itemListContainer, .ItemListContainer")[0],i=d(i).find("div.Item, .item").get();a.beforeActionHappen(b);if(!(0>=this.allItems.length))for(var f=0;f<i.length;f++){var c=d(i[f]);if(c[0]!=b)c.removeClass("SelectedItem selectedItem"),this.onChangeItemDetail(b,!0);else{var e="SelectedItem";this.backupClass="SelectedItem Item";
if(c.hasClass("item"))e="selectedItem",this.backupClass="selectedItem item";c.hasClass(e)||c.addClass(e);this.onChangeItemDetail(b,!1)}}},onChangeItemDetail:function(b,a){if(this.allItems&&!(0>=this.allItems.length))for(var f=a?0:0;f<this.allItems.length;f++)this.itemDetails[f].style.display=this.allItems[f]==b?"block":"none"},onClickCategory:function(b,f,c,e){a.onClick(b);if(null==a.SelectedItem)a.SelectedItem={};a.SelectedItem.component=c;a.SelectedItem.option=e},onClickOption:function(b,f,c,e){for(var f=
d(b).closest(".itemDetailList").find(".selectedItem").get(),h=0;h<f.length;h++)f[h].className="normalItem";b.className="selectedItem";if(null==a.SelectedItem)a.SelectedItem={};a.SelectedItem.component=c;a.SelectedItem.option=e},beforeActionHappen:function(b){b=d(b);this.uiItemSelector=b.closest(".UIItemSelector, .uiItemSelector")[0];var a=b.closest(".ItemListContainer, .itemListContainer");this.itemListContainer=a[0];this.itemListAray=a.parent().find("div.ItemList, .itemList").get();if(1<this.itemListAray.length){this.itemDetailLists=
d(this.uiItemSelector).find("div.ItemDetailList, .itemDetailList").get();this.itemDetailList=null;for(a=0;a<this.itemListAray.length;a++)"none"==this.itemListAray[a].style.display?this.itemDetailLists[a].style.display="none":(this.itemDetailList=this.itemDetailLists[a],this.itemDetailList.style.display="block")}else this.itemDetailList=d(this.uiItemSelector).find("div.ItemDetailList, .itemDetailList")[0];this.itemDetails=d(this.itemDetailList).find("div.ItemDetail, .itemDetail").get();this.itemList=
b.closest(".ItemList, .itemList")[0];this.allItems=d(this.itemList).find("div.Item, .item").get()},showPopupCategory:function(b){var b=d(b).closest(".ItemListContainer"),a=b.find("div.UIPopupCategory").eq(0);b.css("position","relative");"none"==a.css("display")?a.css({position:"absolute",top:"23px",left:"0px",display:"block",width:"100%"}):a.css("display","none")},selectCategory:function(b){var f=d(b),c=f.closest(".OverflowContainer"),e=a.findIndex(b),b=c.find("div.ItemList"),h=c.find("div.ItemDetailList");
b.each(function(b){b==e?(d(this).css("display","block"),h.get(b).style.display="block"):(d(this).css("display","none"),h.get(b).style.display="none")});f.closest(".UIPopupCategory").css("display","none")},findIndex:function(b){for(var a=d(b).parent().children("div."+b.className).get(),f=0;f<a.length;f++)if(a[f]==b)return f}},e={init:function(b,f){var c=e,g=d(".uiChangeLanguageForm"),h=g.find(".uiAction").find(".btn").first(),l=h.attr("href");h.on("click",function(){c.changeLanguage(l);return!1});
c.SelectedItem={component:b.component,option:b.option};g.find(".nodeLabel").closest(".selectedItem, .normalItem").each(function(b){var c=f[b];d(this).on("click",function(){a.onClickOption(this,null,c.component,c.option)})})},changeLanguage:function(b){var f="";if(void 0!=a.SelectedItem)f=a.SelectedItem.option;void 0==f&&(f="");window.location=b+"&language="+f}},c={init:function(){var b=c,a=d(".UIChangeSkinForm").find(".UIAction, .uiAction").find("a, .btn").first(),f=a.attr("href");a.on("click",function(){b.changeSkin(f);
return!1})},changeSkin:function(b){var f="";if(void 0!=a.SelectedItem)f=a.SelectedItem.option;void 0==f&&(f="");window.location=b+"&skin="+f}},f={init:function(b,a,c){"string"==typeof b&&(b=document.getElementById(b));var b=d(b),e=b.find("input.checkbox");e.each(function(b){e[b].onclick=0==b?f.checkAll:f.check});b.find(".searchByGroup input").attr("placeholder",a);b.find(".searchByUser input").attr("placeholder",c).each(function(){d(this).on("keypress",function(b){if(f.isEnterPress(b))return d.globalEval(d(this).closest(".uiSearch").find(".btnSearchUser").attr("href")),
!1})})},checkAll:function(){f.checkAllItem(this)},getItems:function(b){return d(b).parent().closest("table").find("input.checkbox").get()},check:function(){f.checkItem(this)},checkAllItem:function(b){for(var a=b.checked,b=f.getItems(b),c=b.length,e=1;e<c;e++)b[e].checked=a},checkItem:function(b){var a=f.getItems(b),c=a.length,e=!0;if(b.checked){for(b=1;b<c;b++)e=e&&a[b].checked;a[0].checked=e}else a[0].checked=!1},getKeynum:function(b){var a=!1;if(window.event)a=window.event.keyCode,b=window.event;
else if(b.which)a=b.which;if(0==a)a=b.keyCode;return a},isEnterPress:function(b){return 13==f.getKeynum(b||window.event)?!0:!1},cancelSubmit:function(){return!1}};return{UIItemSelector:a,UILanguageSelector:e,UISkinSelector:c,UIUserSelector:f}}(g)});
define("SHARED/uiSocialLoginButtons",["SHARED/jquery"],function(g){eXo.define.names=["$"];eXo.define.deps=[g];return function(d){eXo.webui.UISocialLoginButtons={init:function(){d(".SocialLoginButtons").on("click","a.login-button",function(a){a=d(a.currentTarget).attr("href");a=d('input[name="rememberme"]').is(":checked")?a+"&_rememberme=true":a;window.location=a;return!1})}};return eXo.webui.UISocialLoginButtons}(g)});
define("SHARED/formValidation",["SHARED/jquery"],function(g){eXo.define.names=["$"];eXo.define.deps=[g];return function(d){function a(a){return d(a)?d(a).find("[data-validation"):[]}var e={validators:{},init:function(c){if(c&&!d(c).data("validation_initialized")){var f=a(c);d.each(f,function(a,f){var c=e.validators[d(f).data("validation")];c&&(c=new c,d(f).data("validator",c),c.init(f))});d(c).data("validation_initialized",!0)}},validate:function(c){var c=a(c),f=!0;c.length&&(d.each(c,function(a,
c){var e=d(c).data("validator");e&&!e.validate()&&(f=!1)}),c.closest("form").trigger("formValidate",f));return f},addValidator:function(a,f){this.validators[a]=f}};d.fn.initValidate=function(){e.init(this)};d.fn.validate=function(){e.init(this);e.validate(this)};e.addValidator("require",function(){this.init=function(a){this.$input=d(a)};this.validate=function(){var a=this.$input,f=a.attr("type"),b=!1,b="checkbox"==f||"radio"==f?a.is(":checked"):d.trim(a.val());a.trigger("validate",b);return b}});
return e}(g)});
define("SHARED/uiForm",["SHARED/jquery","SHARED/portalRequest"],function(g,d){eXo.define.names=["$","portalRequest"];eXo.define.deps=[g,d];return function(a){eXo.webui.UIForm={ajaxPost:function(e,c){c||(c=null);var f=a(e).serialize();ajaxPost(e.action+"&ajaxRequest=true",f,c)},getFormElemt:function(e){e=e.split("#");return 1==e.length?a("#"+e[0])[0]:a("#"+e[0]).find("#"+e[1])[0]},submitForm:function(a,c,f,b){b||(b=null);a=this.getFormElemt(a);try{if(FCKeditorAPI&&"object"==typeof FCKeditorAPI)for(var d in FCKeditorAPI.__Instances){var g;try{(g=
FCKeditorAPI.__Instances[d])&&g.GetParentForm&&g.GetParentForm()==a&&g.UpdateLinkedField()}catch(m){}}}catch(h){}a.elements.formOp.value=c;f?this.ajaxPost(a,b):a.submit()},submitEvent:function(a,c,f){a=this.getFormElemt(a);try{if(FCKeditorAPI&&"object"==typeof FCKeditorAPI)for(var b in FCKeditorAPI.__Instances){var d=FCKeditorAPI.__Instances[b];d.GetParentForm&&d.GetParentForm()==a&&d.UpdateLinkedField()}}catch(g){}a.elements.formOp.value=c;if(!a.originalAction)a.originalAction=a.action;a.action=
a.originalAction+encodeURI(f);this.ajaxPost(a)},selectBoxOnChange:function(e,c){a(c).closest(".UISelectBoxOnChange").find("div.SelectBoxContentContainer").eq(0).children("div.SelectBoxContent").each(function(f){f==c.selectedIndex?a(this).css("display","block"):a(this).css("display","none")})},setHiddenValue:function(e,c,f){var b=document.getElementById(e);null==b&&(b=a("#UIMaskWorkspace").find("#"+e)[0]);b.elements[c].value=f}};return eXo.webui.UIForm}(g)});
define("SHARED/uiPopupWindow",["SHARED/common","SHARED/uiPopup","SHARED/uiMaskLayer","SHARED/base","SHARED/jquery"],function(g,d,a,e,c){eXo.define.names=["common","uiPopup","uiMaskLayer","base","$"];eXo.define.deps=[g,d,a,e,c];return function(a,b,c,e,d){var h={superClass:d,show:function(b,c,e,d){var g=document.getElementById(b);if(null!=g)b=a(g).find("span.PopupTitle")[0],c&&h.showMask(g,!0),g.style.visibility="hidden",this.superClass.show(g),h.addToWrapper(g),c=a(g).find(".ResizeButton, .uiIconResize").last(),
c.length&&(c.show(),c.off().on("mousedown touchstart",this.startResizeEvt)),this.initDND(b,g),0<a(g).find("iframe").length?setTimeout(function(){h.setupWindow(g,e,d)},500):this.setupWindow(g,e,d)},setupWindow:function(b,c,e){var d=a(b),g=h.getResizeBlock(d);e&&g.css("max-height",e);e=a(window).height();e<d[0].offsetHeight&&(g.css("max-height",""),d=e-d[0].offsetHeight+g.height()-20,g.height(10<=d?d:10));g=0;d=b.offsetParent;g=void 0!=window.pageYOffset?window.pageYOffset:document.documentElement&&
document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;if(d){var i=a(d).is(".UIPopupWindow,.UIWindow");if(i)b.style.top=Math.ceil((d.offsetHeight-b.offsetHeight)/2)+"px";if(c||!i)b.style.top=Math.ceil((e-b.offsetHeight)/2)+g+"px";if(a(d).hasClass("UIMaskWorkspace"))b.style.top=Math.ceil((d.offsetHeight-b.offsetHeight)/2)+"px";c=300<b.offsetHeight;if(document.getElementById("UIDockBar")&&c)b.style.top="6px";b.style.left=Math.ceil((d.offsetWidth-b.offsetWidth)/
2)+"px"}if(0>a(b).offset().top)b.style.top=g+"px";b.style.visibility="visible"},hide:function(a,b){var c=document.getElementById(a);null!=c&&(h.removeFromWrapper(c),this.superClass.hide(c),b&&h.showMask(c,!1))},showMask:function(b,c){var d=b.previousSibling;d&&"MaskLayer"!=d.className&&(d=null);c?1>a(b).parents(".PORTLET-FRAGMENT").length?d||e.createMask(b.parentNode,b,1):d||e.createMaskForFrame(b.parentNode,b,1):d&&e.removeMask(d)},addToWrapper:function(b){b=a(b);if(!b.parent().hasClass("uiPopupWrapper")){var c=
a('<div class="uiPopupWrapper"></div>');c.css({zIndex:++eXo.webui.UIPopup.zIndex});c.insertAfter(b);c.append(b);c.on("click",function(b){if(a(b.target).hasClass("uiPopupWrapper"))return c.find(".uiIconClose").first().click(),!1});a("body").addClass("modal-open")}},removeFromWrapper:function(b){b=a(b);"none"!=b.css("display")&&b.parent().hasClass("uiPopupWrapper")&&(b.parent().replaceWith(b),a(".uiPopupWrapper").length||a("body").removeClass("modal-open"))},startResizeEvt:function(c){h.backupEvent=
null;if(0<=navigator.userAgent.indexOf("MSIE")){if(!h.resizedPopup&&document.onselectstart)h.backupEvent=document.onselectstart;document.onselectstart=function(){return!1}}else{if(document.onmousedown)h.backupEvent=document.onmousedown;a(document).on("mousedown touchstart",function(){return!1})}var d=a(this).parents(".UIPopupWindow, .uiPopup")[0];h.resizedPopup=d;h.vresized=h.getResizeBlock(a(d));h.backupPointerY=b.Browser.findMouseRelativeY(d,c);c=a(document);c.on("mousemove touchmove",h.resize);
c.on("mouseup touchend",h.endResizeEvt)},resize:function(c){var d=h.resizedPopup,e=h.vresized,g=eXo.core.I18n.isRT(),i=b.Browser.findMouseRelativeX(d,c,g),c=b.Browser.findMouseRelativeY(d,c),k=c-h.backupPointerY,j=0;e.each(function(){a(this).height()&&(j=a(this).height())});if(0<j+k)h.backupPointerY=c,e.height(j+k),e.css("max-height","");d.style.height="auto";g&&(i*=-1);if(230<i)d.style.width=i+10+"px"},endResizeEvt:function(){h.resizedPopup=null;h.vresized=null;a(this).off("mousemove touchmove mouseup touchstop");
if(0<=navigator.userAgent.indexOf("MSIE"))document.onselectstart=h.backupEvent;else a(document).off("mousedown touchstart").on("mousedown touchstart",h.backupEvent);h.backupEvent=null},initDND:function(d,e){c.DragDrop.init(d,e);e.onDragStart=function(){if(b.Browser.isFF()&&e.uiWindowContent)e.uiWindowContent.style.overflow="auto",a(e.uiWindowContent).find("ul.PopupMessageBox").css("overflow","auto")};e.onDrag=function(){};e.onDragEnd=function(c,d,g,h){if(b.Browser.isFF()&&e.uiWindowContent)e.uiWindowContent.style.overflow=
"auto",a(e.uiWindowContent).find("ul.PopupMessageBox").css("overflow","auto");if(c=e.offsetParent){if(0>h)e.style.top=0-c.offsetTop+"px"}else e.style.top="0px"};e.onCancel=function(){}},getResizeBlock:function(b){var c=function(){return a(this).closest(".uiPopup").attr("id")===b.attr("id")};b.find(".resizable .resizable").filter(c).removeClass("resizable");var d=b.find(".resizable").filter(c),c=b.find("div.PopupContent, .popupContent").filter(c);return d.length?d:c}};return h}(c,e,g,a,d)});
define("SHARED/portalControl",["SHARED/uiForm","SHARED/jquery"],function(g,d){eXo.define.names=["uiForm","$"];eXo.define.deps=[g,d];return function(){eXo.portal.VerticalScrollManager={repeat:null,initScroll:function(a,e,c){var f=eXo.portal.VerticalScrollManager,a=d(a).closest(".ItemContainer").find(".MiddleItemContainer").first()[0];if(!a.id)a.id="IC"+(new Date).getTime()+Math.random().toString().substring(2);f.scrollComponent(a.id,e,c);document.onmouseup=f.cancelScroll},scrollComponent:function(a,
d,c){var f=eXo.portal.VerticalScrollManager,b=document.getElementById(a);b.scrollTop=d?b.scrollTop-c:b.scrollTop+c;f.repeat&&f.cancelScroll();f.repeat=setTimeout(function(){eXo.portal.VerticalScrollManager.scrollComponent(a,d,c)},100)},cancelScroll:function(){clearTimeout(eXo.portal.VerticalScrollManager.repeat);eXo.portal.VerticalScrollManager.repeat=null}};eXo.webui.UIHorizontalTabs={init:function(a){if(a)d("#"+a).find("div.TabsContainer").find("div.UITab").find("div.MiddleTab").not(".LockedTab").on("click",
function(){eXo.webui.UIHorizontalTabs.displayTabContent(this)})},displayTabContent:function(a){this.changeTabForUITabPane(a,null,null)},changeTabForUITabPane:function(a){var e=d(a).parents(".UITab").eq(0),c=d(a).parents(".UIHorizontalTabs"),a=c.find("div.UITab"),c=c.parent().find("div.UITabContentContainer"),f=c.children("div.UITabContent");(c=c.children("form").eq(0))&&(f=f.add("div.UITabContent",c));a.each(function(a){var c=d(this).children("div").eq(0);"DisabledTab"!=c.attr("class")&&(d(this)[0]==
e[0]?(c.removeAttr("class").attr("class","SelectedTab"),f.eq(a).css("display","block")):(c.removeAttr("class").attr("class","NormalTab"),f.eq(a).css("display","none")))})},checkContentAvailable:function(a){a=document.getElementById(a).parentNode;if(!a.isLoaded)return a.isLoaded=!0,!1;a.style.display="block";return!0},changeTabForUIFormTabpane:function(a,d,c){this.displayTabContent(a);g.setHiddenValue(d,"currentSelectedTab",c)}};return{UIPortalControl:{collapseTree:function(a){var e=d(a).parent().closest(".Node"),
a='<div onclick="'+e.find("div.ChildrenContainer").eq(0).attr("actionLink")+'" class="ExpandIcon">'+a.innerHTML+"</div>";e.html(a)},onEnterPress:function(a,d){var a=window.event||a,c;if(!a)a=window.event;if(a.keyCode)c=a.keyCode;else if(a.which)c=a.which;if(13==c)if(window.event?a.returnValue=!1:a.preventDefault(),c=document.getElementById("UIPortalLoginFormAction"))c.onclick();else d&&eval(d)},onKeyPress:function(a,d,c){if(!a)a=window.event;if(a.keyCode&&a.keyCode==c)window.event?a.cancelBubble=
!0:a.preventDefault(),d&&eval(d)}},UIHorizontalTabs:eXo.webui.UIHorizontalTabs,VerticalScrollManager:eXo.portal.VerticalScrollManager}}(d,g)});
define("SHARED/uiPopupMessages",["SHARED/jquery","SHARED/uiPopupWindow","SHARED/bts_collapse"],function(g,d,a){eXo.define.names=["$","uiPopupWindow","bts_collapse"];eXo.define.deps=[g,d,a];return function(a,c){return{init:function(c){a("#"+c+" *[data-toggle='collapse']").parent().on("show hide",function(){a(this).find("i").toggleClass("uiIconArrowRight uiIconArrowDown")})},show:function(a,b){c.show(a,b)},hide:function(a,b){c.hide(a,b)}}}(g,d)});